var keyringPGP=function(e){var r={};function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(r){return e[r]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){const n=t(1);let i=new openpgp.Keyring;async function o(){i.store()}async function a(e){return await i.publicKeys.importKey(e),await o(),openpgp.key.readArmored(e).keys[0].primaryKey.getFingerprint()}async function u(e){await i.privateKeys.importKey(e);var r=openpgp.key.readArmored(e).keys[0].primaryKey.getFingerprint();return a(i.privateKeys.getForId(r).toPublic().armor())}async function c(e){return!i.privateKeys.getForId(e).primaryKey.isDecrypted}async function p(e,r){if(await c(e))return i.privateKeys.getForId(e).decrypt(r)}e.exports={generate:async function(e){var r=await openpgp.generateKey(e),t=await u(r.privateKeyArmored);return await p(t,e.passphrase),t},clear:async function(){i.clear()},store:o,listKeys:async function(){return i.publicKeys.keys.map(e=>e.primaryKey.getFingerprint())},importPublicKey:a,importPrivateKey:u,getPublicKey:async function(e){return n.lf(i.publicKeys.getForId(e).armor()).trim()},getPrivateKey:async function(e){return n.lf(i.privateKeys.getForId(e).armor()).trim()},isLocked:c,unlockKey:p,lockKey:async function(e,r){i=new openpgp.Keyring},sign:async function(e,r){return(await openpgp.sign({data:e,privateKeys:[i.privateKeys.getForId(r)],detached:!0})).signature},verify:async function(e,r,t){let n;return"string"==typeof t&&(t=[t]),t=t.map(e=>e.toUpperCase()),n=r?{message:openpgp.message.fromText(e),signature:openpgp.signature.readArmored(r),publicKeys:t.map(e=>i.publicKeys.getForId(e.toLowerCase()))}:{message:openpgp.cleartext.readArmored(e),publicKeys:t.map(e=>i.publicKeys.getForId(e.toLowerCase()))},(await openpgp.verify(n)).signatures.forEach(e=>{if(e.valid){var r=t.indexOf(e.keyid.toHex().toUpperCase());r>=0?t=t.splice(r,1):(r=t.indexOf(i.publicKeys.getForId(e.keyid.toHex()).primaryKey.getFingerprint().toUpperCase()))>=0&&t.splice(r,1)}}),0===t.length},decrypt:async function(e,r){return(await openpgp.decrypt({message:openpgp.message.readArmored(e),privateKeys:[i.privateKeys.getForId(r)]})).data},encrypt:async function(e,r){return(await openpgp.encrypt({data:e,publicKeys:i.publicKeys.getForId(r),privateKeys:[i.privateKeys.getForId(r)]})).data}}},function(e,r,t){(function(r){!function(r,t,n){void 0!==e&&e.exports?e.exports=n():r.eol=n()}(this,0,function(){var e={},t=void 0!==r&&"win32"===r.platform?"\r\n":"\n",n=/\r\n|\r|\n/g;function i(e){function r(r){return r.replace(n,e)}return r.toString=function(){return e},r}return e.lf=i("\n"),e.cr=i("\r"),e.crlf=i("\r\n"),e.auto=i(t),e.before=function(e){return t+e},e.after=function(e){return e+t},e.split=function(e){return e.split(n)},e})}).call(this,t(2))},function(e,r){var t,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,p=[],s=!1,f=-1;function y(){s&&c&&(s=!1,c.length?p=c.concat(p):f=-1,p.length&&l())}function l(){if(!s){var e=u(y);s=!0;for(var r=p.length;r;){for(c=p,p=[];++f<r;)c&&c[f].run();f=-1,r=p.length}c=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(r){try{return n.call(null,e)}catch(r){return n.call(this,e)}}}(e)}}function d(e,r){this.fun=e,this.array=r}function g(){}i.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];p.push(new d(e,r)),1!==p.length||s||u(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}]);